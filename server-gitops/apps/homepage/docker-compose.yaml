
services:
  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    container_name: homepage
    restart: always
    dns:
      - 1.1.1.1
    ports:
      - 3000:3000
    volumes:
      - ./config:/app/config
      - ./images:/app/public/images
      - ${HOME}/data/homepage/logs:/var/homepage/logs
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - HOMEPAGE_ALLOWED_HOSTS=${HOMEPAGE_ALLOWED_HOSTS}
      - HOMEPAGE_VAR_TITLE=${HOMEPAGE_VAR_TITLE}
      - HOMEPAGE_VAR_START_URL=${HOMEPAGE_VAR_START_URL}
      - HOMEPAGE_VAR_LOCATION=${HOMEPAGE_VAR_LOCATION}
      - HOMEPAGE_VAR_TIMEZONE=${HOMEPAGE_VAR_TIMEZONE}
      - HOMEPAGE_VAR_GLANCES_URL=${HOMEPAGE_VAR_GLANCES_URL}
      - HOMEPAGE_VAR_GLANCES_USERNAME=${HOMEPAGE_VAR_GLANCES_USERNAME}
      - HOMEPAGE_VAR_GLANCES_PASSWORD=${HOMEPAGE_VAR_GLANCES_PASSWORD}
      - HOMEPAGE_VAR_NPM_URL=${HOMEPAGE_VAR_NPM_URL}
      - HOMEPAGE_VAR_NPM_USERNAME=${HOMEPAGE_VAR_NPM_USERNAME}
      - HOMEPAGE_VAR_NPM_PASSWORD=${HOMEPAGE_VAR_NPM_PASSWORD}
      - HOMEPAGE_VAR_NAS_URL=${HOMEPAGE_VAR_NAS_URL}
      - HOMEPAGE_VAR_NAS_USERNAME=${HOMEPAGE_VAR_NAS_USERNAME}
      - HOMEPAGE_VAR_NAS_PASSWORD=${HOMEPAGE_VAR_NAS_PASSWORD}
      - HOMEPAGE_VAR_PORTAINER_URL=${HOMEPAGE_VAR_PORTAINER_URL}
      - HOMEPAGE_VAR_PORTAINER_API_KEY=${HOMEPAGE_VAR_PORTAINER_API_KEY}
      - HOMEPAGE_VAR_JELLYFIN_URL=${HOMEPAGE_VAR_JELLYFIN_URL}
      - HOMEPAGE_VAR_JELLYFIN_API_KEY=${HOMEPAGE_VAR_JELLYFIN_API_KEY}
      - HOMEPAGE_VAR_UPTIME_KUMA_URL=${HOMEPAGE_VAR_UPTIME_KUMA_URL}
      - HOMEPAGE_VAR_UPTIME_KUMA_USERNAME=${HOMEPAGE_VAR_UPTIME_KUMA_USERNAME}
      - HOMEPAGE_VAR_UPTIME_KUMA_PASSWORD=${HOMEPAGE_VAR_UPTIME_KUMA_PASSWORD}
    networks:
      - proxy

networks:
  proxy:
    external: true
    